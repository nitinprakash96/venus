{"version":3,"sources":["taoensso/timbre/appenders/core.cljs"],"mappings":"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","names":["var_args","args__4824__auto__","len__4818__auto__","i__4819__auto__","argseq__4825__auto__","cljs.core/IndexedSeq","taoensso.timbre.appenders.core/println-appender","p__54931","vec__54932","cljs.core.nth","seq54930","self__4806__auto__","cljs.core/seq","_opts","data","map__54935","cljs.core/--destructure-map","cljs.core.get","output_","cljs.core.println","cljs.core/force","taoensso.timbre.appenders.core/console-appender","p__54937","vec__54938","seq54936","opts","js/console","level->logger","level","or__4212__auto__","G__54941","cljs.core/Keyword","js/Error","js/console.trace","js/console.debug","js/console.info","js/console.warn","js/console.error","js/console.log","temp__5753__auto__","logger","cljs.core.get_in","output","G__54943","fexpr__54942","cljs.core.assoc","args","vargs","temp__5751__auto__","err","cljs.core/cons","cljs.core.into_array","taoensso.timbre.appenders.core/console-?appender"],"sourcesContent":["(ns taoensso.timbre.appenders.core\n  \"Core Timbre appenders without any special dependency requirements.\n  These can be aliased into the main Timbre ns for convenience.\"\n  {:author \"Peter Taoussanis (@ptaoussanis)\"}\n       \n           \n                            \n                                                    \n\n        \n  (:require\n   [clojure.string  :as str]\n   [taoensso.encore :as enc :refer-macros [have have?]]))\n\n;; TODO Add a simple official rolling spit appender?\n\n;;;; Println appender (clj & cljs)\n\n                                                     \n                                                      \n                                      \n\n     \n                                     \n                                        \n\n                                                                       \n\n(defn println-appender\n  \"Returns a simple `println` appender for Clojure/Script.\n  Use with ClojureScript requires that `cljs.core/*print-fn*` be set.\n\n  :stream (clj only) - e/o #{:auto :*out* :*err* :std-err :std-out <io-stream>}.\"\n\n  ;; Unfortunately no easy way to check if *print-fn* is set. Metadata on the\n  ;; default throwing fn would be nice...\n\n  [&                                                    [_opts]]\n  (let [            \n                          \n                                           \n                                           \n                       ]\n\n    {:enabled?   true\n     :async?     false\n     :min-level  nil\n     :rate-limit nil\n     :output-fn  :inherit\n     :fn\n     (fn [data]\n       (let [{:keys [output_]} data]\n                (println (force output_))\n              \n                     \n                           \n                                                       \n                             \n                             \n                         \n\n                                  \n                                                    \n                                                      ))}))\n\n(comment (println-appender))\n\n;;;; Spit appender (clj only)\n\n     \n                   \n                                                      \n                            \n                                       \n                              \n                   \n                    \n                  \n                  \n                       \n      \n                  \n                                  \n           \n                                                                \n                                     \n                                             \n                                         \n                                                     \n                                                     \n                                                                  \n\n                                                     \n                                                                       \n\n(comment\n  (spit-appender)\n  (let [f (:fn (spit-appender))]\n    (enc/qb 1000 (f {:output_ \"boo\"}))))\n\n;;;; js/console appender (cljs only)\n\n      \n(defn console-appender\n  \"Returns a simple js/console appender for ClojureScript.\n\n  For accurate line numbers in Chrome, add these Blackbox[1] patterns:\n    `/taoensso/timbre/appenders/core\\\\.js$`\n    `/taoensso/timbre\\\\.js$`\n    `/cljs/core\\\\.js$`\n\n  [1] Ref. https://goo.gl/ZejSvR\"\n\n  ;; TODO Any way of using something like `Function.prototype.bind`\n  ;; (Ref. https://goo.gl/IZzkQB) to get accurate line numbers in all\n  ;; browsers w/o the need for Blackboxing?\n\n  [& [opts]]\n  {:enabled?   true\n   :async?     false\n   :min-level  nil\n   :rate-limit nil\n   :output-fn  :inherit\n   :fn\n   (if (exists? js/console)\n     (let [;; Don't cache this; some libs dynamically replace js/console\n           level->logger\n           (fn [level]\n             (or\n               (case level\n                 :trace  js/console.trace\n                 :debug  js/console.debug\n                 :info   js/console.info\n                 :warn   js/console.warn\n                 :error  js/console.error\n                 :fatal  js/console.error\n                 :report js/console.info)\n               js/console.log))]\n\n       (fn [data]\n         (when-let [logger (level->logger (:level data))]\n\n           (if (or (:raw-console? data)\n                   (get-in data [:?meta :raw-console?])) ; Undocumented\n\n             (let [output\n                   ((:output-fn data)\n                    (assoc data\n                      :msg_  \"\"\n                      :?err nil))\n\n                   args ; (<output> ?<raw-error> <raw-arg1> <raw-arg2> ...)\n                   (let [vargs (:vargs data)]\n                     (if-let [err (:?err data)]\n                       (cons output (cons err vargs))\n                       (cons output           vargs)))]\n\n               (.apply logger js/console (into-array args)))\n             (.call    logger js/console (force (:output_ data)))))))\n\n     (fn [data] nil))})\n\n(comment (console-appender))\n\n;;;; Deprecated\n\n       (def console-?appender \"DEPRECATED\" console-appender)\n\n;;;;;;;;;;;; This file autogenerated from src/taoensso/timbre/appenders/core.cljx\n"]}